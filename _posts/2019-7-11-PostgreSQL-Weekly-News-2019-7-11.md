---
layout: post
title: PostgreSQL æ¯å‘¨æ–°é—» 2019-7-11
---

### PostgreSQLæ¯å‘¨æ–°é—»#313 - 2019å¹´7æœˆ10æ—¥

![_config.yml]({{ site.baseurl }}/images/PostgresWeekly.png)

å¤‡æ³¨ï¼š[è‹±æ–‡åŸæ–‡åœ°å€](https://postgresweekly.com/issues/313)

![img](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60/c6vmpzectzfcgjviu0zg.jpg)

## [Amazon Aurora PostgrsSQL Serverless ç°å·²æ¨å‡º](https://aws.amazon.com/cn/blogs/aws/amazon-aurora-postgresql-serverless-now-generally-available/)

è¿™é‡Œæœ‰ç›¸å½“å¤šçš„ä¿¡æ¯éœ€è¦å¤„ç†! [Amazon Aurora](https://aws.amazon.com/cn/rds/aurora/)æ˜¯ä¸€ä¸ªé€‚åº”äºæ€§èƒ½çš„åŸºäºAWSçš„æ•°æ®åº“ï¼Œå®ƒæä¾›MySQLå’ŒPostgreså…¼å®¹æ€§ï¼Œå¹¶æŒ‰å°æ—¶æ”¶è´¹ã€‚ç„¶è€Œï¼Œserverlessç‰ˆæœ¬å°†è‡ªåŠ¨è¡¡é‡ï¼Œè®©æ‚¨åªéœ€â€œæŒ‰éœ€ä»˜è´¹â€(åœ¨ä¸€å®šç¨‹åº¦ä¸Š)ã€‚MySQLå·²ç»æ”¯æŒè¿™ç§æ–¹æ³•[ä¸€å¹´äº†](https://aws.amazon.com/cn/blogs/aws/aurora-serverless-ga/)ï¼Œç°åœ¨è½®åˆ°Postgresç”¨æˆ·æ¥å°è¯•è¿™ç§æ–¹æ³•ã€‚

`AMAZON WEB SERVICES`

## [åœ¨Postgres 12ä¸­ç”Ÿæˆåˆ—](https://www.2ndquadrant.com/en/blog/generated-columns-in-postgresql-12/)

â€œæ•°æ®ä»“åº“ç¤¾åŒºä¼šå¾ˆé«˜å…´çŸ¥é“ï¼ŒPostgreSQLç°åœ¨æœ‰äº†ä¸€ä¸ªå¯ä»¥åŸºäºå…¶ä»–åˆ—ä¸­çš„æ•°æ®ç”Ÿæˆæ–°çš„åˆ—çš„åŠŸèƒ½ã€‚â€œ å®ƒæ˜¯è¿™æ ·å·¥ä½œçš„ã€‚

`KIRK ROYBAL`

## [å†…å­˜è®¡ç®—ä¸ºPostgreSQLå¢åŠ äº†é€Ÿåº¦å’Œè§„æ¨¡](https://www.gridgain.com/resources/papers/adding-speed-and-horizontal-scale-postgresql?adsource=postgresweekly)

å°†å†…å­˜è®¡ç®—å’ŒPostgreSQLç»“åˆèµ·æ¥å¯ä»¥åŠ é€Ÿåº”ç”¨ç¨‹åºæ€§èƒ½ï¼Œæ”¯æŒæ›´å¿«çš„äº‹åŠ¡å¤„ç†ï¼Œæ”¯æŒå¤§è§„æ¨¡çš„å¯ä¼¸ç¼©æ€§ï¼Œå¹¶ä¸”å…è®¸æ›´å¥½çš„ä¸šåŠ¡åˆ†æâ€”â€”è€Œä¸éœ€è¦å¯¹ç°æœ‰æ¶æ„è¿›è¡Œå¤åˆ¶å’Œæ›¿æ¢ã€‚[ç™½çš®ä¹¦å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ã€‚](https://www.gridgain.com/resources/papers/adding-speed-and-horizontal-scale-postgresql?adsource=postgresweekly)

`GRIDGAIN SYSTEMS, INC`**èµåŠ©å•†**

## [E-Maj 3.1.0:ä¸€ç§è®°å½•å’Œå›æ»šè¡¨æ•°æ®æ›´æ–°çš„æ–¹æ³•](https://www.postgresql.org/about/news/1952/)

æ˜¯Postgresçš„æ‰©å±•ï¼Œæ”¯æŒç»†ç²’åº¦çš„å†™æ—¥å¿—å’Œæ•°æ®åº“å­é›†ä¸Šçš„â€œæ—¶é—´æ—…è¡Œâ€ã€‚è¿™ä¸ªç‰ˆæœ¬ç°åœ¨æ”¯æŒPostgres 9.5åˆ°12ã€‚[GitHub æŠ¥é“](https://github.com/dalibo/emaj)

`PHILIPPE BEAUDOIN`

## [psqlä¸­çš„CSVè¾“å‡ºæ ¼å¼](https://postgresql.verite.pro/blog/2019/07/06/psql-csv-output.html)

CSVæ˜¯ä¸€ç§æ–¹ä¾¿è€Œé€šç”¨çš„ï¼ˆå¤šå°‘æœ‰ç‚¹æ€ªæ€ªçš„ï¼‰æ•°æ®äº¤æ¢æ ¼å¼ï¼ŒPostgreså¤šå¹´æ¥ä¸€ç›´ä»¥å„ç§æ–¹å¼æ”¯æŒè¿™ç§æ ¼å¼ã€‚Postgres 12æ›´è¿›ä¸€æ­¥ï¼Œå¦‚æœæ‚¨ä¹æ„ï¼Œå¯ä»¥è®©psqlå°†æ‰€æœ‰è¡¨æ ¼ç»“æœè¾“å‡ºä¸ºCSVæ ¼å¼ã€‚

`DANIEL VÃ‰RITÃ‰`

## [ç”¨Pythonå°†æ•°æ®åŠ è½½åˆ°Postgresçš„æœ€å¿«æ–¹æ³•](https://hakibenita.com/fast-load-data-python-postgresql)

å¦‚æœæ‚¨æœ‰å¤§é‡çš„â€œè„â€æ•°æ®éœ€è¦è·å–è½¬æ¢ï¼Œç„¶åè¾“å…¥åˆ°Postgresä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªå¹¿æ³›çš„æ•™ç¨‹ï¼Œå°†ä¸ºæ‚¨æä¾›æŒ‡å¯¼ã€‚

`HAKI BENITA`

## [Postgresçš„æ—¶é—´é—´éš”ã€æ—¥æœŸã€æ—¶é—´æˆ³å’Œæ—¶é—´æ•°æ®ç±»å‹](https://www.2ndquadrant.com/en/blog/know-what-time-it-is/)

è¿™æ˜¯å¯¹Postgreså®ç°çš„å„ç§ç±»å‹çš„ç®€å•ä»‹ç»ï¼Œå…è®¸æ‚¨è¡¨ç¤ºå’Œå¤„ç†æŒç»­æ—¶é—´(æœ‰å…³æŠ€å·§ï¼Œè¯·å‚é˜…ä¸‹é¢çš„æ¯å‘¨æŠ€å·§)ã€‚

`ELEIN MUSTAIN`

## [å…è´¹ç”µå­ä¹¦:å¦‚ä½•è·å¾—ä¸€ä¸ª3å€çš„æ€§èƒ½æ”¹è¿›æ‚¨çš„Postgresæ•°æ®åº“](https://pganalyze.com/ebooks/optimizing-postgres-query-performance?utm_source=PostgresWeeklySecondary)

å­¦ä¹ æˆ‘ä»¬çš„æœ€ä½³å®è·µï¼ŒåƒAtlassianä¸€æ ·ä¸ºå®¢æˆ·ä¼˜åŒ–PostgresæŸ¥è¯¢æ€§èƒ½ä»¥åŠå¦‚ä½•å°†ç£ç›˜åŠ è½½çš„æ•°æ®å‡å°‘500å€ã€‚

`PGANALYZE`**èµåŠ©å•†**

## [ï¼ˆå‡ ä¹ï¼‰è‡ªåŠ¨ç”Ÿæˆä¸»é”®](https://fluca1978.github.io/2019/07/09/GeneratePrimaryKeys.html)

ä¹Ÿè®¸æˆ‘è¿‡ç€å—ä¿æŠ¤çš„ç”Ÿæ´»ï¼Œä½†æˆ‘æƒ³ä¸å‡ºä¸€ä¸ªæˆ‘æƒ³åšè¿™ä»¶äº‹çš„ç†ç”±ã€‚ä½†å¾ˆé«˜å…´çŸ¥é“æˆ‘èƒ½(!)

`LUCA FERRARI`

## [æä¾›æ¥è‡ªPostGISçš„åŠ¨æ€å‘é‡å—](https://info.crunchydata.com/blog/dynamic-vector-tiles-from-postgis)

PostGISæ‰©å±•äº†Postgresï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªå¼ºå¤§çš„åœ°ç†å’Œåœ°ç†ç©ºé—´æ•°æ®å¼•æ“ï¼Œè¿˜å¯ä»¥ç”Ÿæˆå’Œå¤„ç†å¹³é“ºåœ°å›¾ã€‚

`PAUL RAMSEY`

## [Terraform PostgreSQL Provider](https://github.com/terraform-providers/terraform-provider-postgresql) 

[Terraform](https://www.terraform.io/)æ˜¯ä¸€ä¸ªå—æ¬¢è¿çš„åŸºäºä»£ç çš„åŸºç¡€è®¾æ–½ç®¡ç†ç³»ç»Ÿã€‚

`TERRAFORM`

# ğŸ’¡æ¯å‘¨æç¤º

ç”±EnterpriseDBæä¾›æ”¯æŒ![EnterpriseDB](https://res.cloudinary.com/cpress/image/upload/v1562592058/ejysjrwdn0ew88ofido4.png)

### ä½¿ç”¨date_truncé™ä½æ—¶é—´ç²¾åº¦

date_truncæ˜¯å†…ç½®åœ¨Postgresä¸­çš„ä¼—å¤š[æ—¥æœŸ/æ—¶é—´å‡½æ•°](https://www.postgresql.org/docs/9.1/functions-datetime.html)ä¹‹ä¸€ï¼Œä½†å¯¹æˆ‘æ¥è¯´ï¼Œå®ƒçš„æ€§ä»·æ¯”è‚¯å®šå¾ˆé«˜ã€‚

date_truncå°†æ—¶é—´æˆ³æˆªæ–­åˆ°ç‰¹å®šçš„ç²¾åº¦çº§åˆ«ï¼Œæ¯”å¦‚ç‰¹å®šçš„å°æ—¶ã€ç§’ã€å¤©ã€å‘¨ã€å¹´ç­‰ç­‰ã€‚

ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªéå¸¸ç®€å•çš„è®¢å•è¡¨ï¼Œå®ƒåªå­˜å‚¨è®¢å•åˆ›å»ºçš„æ—¶é—´:

 

```
 CREATE TABLE orders (created_at timestamp);

INSERT INTO orders VALUES
  ('2019-01-01 04:05:33'),
  ('2019-01-01 09:05:51'),
  ('2019-01-03 02:55:14'),
  ('2019-01-08 14:12:07');  
```

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨created_atä¸Šä½¿ç”¨date_truncæ¥æŒ‰å¤©æˆ–å‘¨åˆ†ç»„å’Œè®¡æ•°è®¢å•:

```
SELECT date_trunc('day', created_at) AS day,
       COUNT(created_at) FROM orders
       GROUP BY day
       ORDER BY day;
```

```
 day                | count
 ----------------------------
2019-01-01T00:0 ... | 2
2019-01-08T00:0 ... | 1
2019-01-03T00:0 ... | 1
```

è¿™ä¸ªåŸºæœ¬ç¤ºä¾‹æ˜¾ç¤ºï¼Œå¦‚æœæˆ‘ä»¬æŒ‰ç…§created_at ç¼©çŸ­åˆ°å¤©çº§åˆ«è¿›è¡Œåˆ†ç»„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è®¡ç®—æ¯ä¸€å¤©æœ‰å¤šå°‘ä¸ªè®¢å•ã€‚

æœ¬å‘¨çš„æŠ€å·§æ˜¯ç”±[EnterpriseDB](https://www.enterprisedb.com/enterprise-postgres/edb-postgres-platform)èµåŠ©çš„ï¼Œå®ƒæ˜¯æœ€å®Œæ•´çš„å¼€æºæ•°æ®åº“å¹³å°ã€‚[äº†è§£æ›´å¤šå…³äºä¼ä¸šPostgresè§£å†³æ–¹æ¡ˆçš„ä¿¡æ¯ã€‚](https://www.enterprisedb.com/enterprise-postgres/edb-postgres-platform)

ğŸ—“  **å³å°†ä¸¾åŠçš„Postgresæ´»åŠ¨**  

â€¢ [PGConf.Brasil 2019](https://www.pgconf.com.br/2019/en/) (8æœˆ1æ—¥ - 3æ—¥ï¼Œå·´è¥¿åœ£ä¿ç½—)â€”â€”ä¸ºæœŸä¸‰å¤©çš„ä¼šè®®ä¸è®²åº§ï¼Œæ•™ç¨‹ï¼Œè¯¾ç¨‹ï¼Œé—ªç”µä¼šè°ˆã€‚

â€¢  [PGDay Austria 2019](https://pgday.at/en/) (9æœˆ6æ—¥ï¼Œå¥¥åœ°åˆ©ç»´ä¹Ÿçº³Neustadt)

â€¢ [PostgreSQL Conference Asia 2019](https://2019.pgconf.asia/)(9æœˆ9æ—¥ - 12æ—¥ï¼Œå°åº¦å°¼è¥¿äºšå·´å˜å²›)

â€¢ [PostgresConf South Africa 2019](https://postgresconf.org/conferences/SouthAfrica2019) (10æœˆ8æ—¥ - 9æ—¥ï¼Œå—éçº¦ç¿°å†…æ–¯å ¡)â€”â€”ä¸ºä½¿ç”¨Postgresæ•°æ®åº“çš„ç®¡ç†äººå‘˜å’Œå¼€å‘äººå‘˜æä¾›äº†ä¸€ä¸ªå½¼æ­¤äº†è§£çš„æœºä¼šã€‚
