---
layout: post
title: PostgreSQL æ¯å‘¨æ–°é—» 2019-5-15
---

### PostgreSQLæ¯å‘¨æ–°é—»#305 - 2019å¹´5æœˆ15æ—¥
![_config.yml]({{ site.baseurl }}/images/PostgresWeekly.png)

å¤‡æ³¨ï¼š[è‹±æ–‡åŸæ–‡åœ°å€](https://postgresweekly.com/issues/305)

![img](https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60/v1557914353/gqytlwienctadmgcvky1.jpg)

## [å¦‚ä½•å°è¯•ä½¿ç”¨Postgresçš„å‰æ²¿ç‰ˆæœ¬](https://www.depesz.com/2019/05/15/how-to-play-with-upcoming-unreleased-postgresql/)
æˆ‘ä»¬ç»å¸¸é“¾æ¥å…³äºPostgreså³å°†æ¨å‡ºçš„åŠŸèƒ½çš„æœ‰è¶£å¸–å­ï¼Œå…¶ä¸­å·²ç»æœ‰è®¸å¤šåŠŸèƒ½è¢«çº³å…¥é¡¹ç›®çš„æ ¸å¿ƒæºä»£ç ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨æœ€æ–°çš„Postgreså®éªŒç‰ˆï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ

`HUBERT DEPESZ LUBACZEWSKI`

## [Postgres 11.3,10.8,9.6.13,9.5.17å’Œ9.4.22å‘å¸ƒ](https://www.postgresql.org/about/news/1939/)
è¿™äº›æ˜¯é’ˆå¯¹bugä¿®æ­£çš„è¡¥ä¸çº§åˆ«å‘å¸ƒï¼ŒåŒ…æ‹¬ä¸¤ä¸ªå®‰å…¨é—®é¢˜ä¿®å¤ï¼Œä¸€ä¸ªç¼ºé™·â€”â€”â€œè¿è¡ŒPostgreSQL 11çš„ç”¨æˆ·å¯ä»¥é€šè¿‡å¯¹åˆ†åŒºè¡¨æ‰§è¡Œç‰¹å®šçš„INSERTè¯­å¥æ¥è¯»å–æœåŠ¡å™¨å†…å­˜çš„ä»»æ„å­—èŠ‚ã€‚[æ›´å¤šä¿¡æ¯](https://www.percona.com/blog/2019/05/13/postgresql-minor-versions-released-may-9-2019/)

`POSTGRESQLå…¨çƒå¼€å‘å°ç»„`

## [å¦‚æœå·¥ç¨‹å¸ˆéœ€è¦è®¿é—®æ•°æ®åº“ï¼Œä½ éœ€è¦strongDM](https://www.strongdm.com/product/?utm_source=&utm_medium=email&utm_campaign=2019-04-24%20-%20%5BUSA%5D%20-%20%5BSchD%5D%20-%20%5BSDM%5D%20-%20%5BENT%5D%20-%20PGW)
![img](https://copm.s3.amazonaws.com/69ff4959.png)    
strongDMå¯¹å…¨æ ˆéƒ½æœ‰æ•ˆã€‚è®¤çœŸåœ°è®²ï¼Œä»»ä½•æ•°æ®åº“ï¼Œä»»ä½•æœåŠ¡å™¨ï¼Œæ‰€æœ‰ç¯å¢ƒã€‚[äº†è§£æ›´å¤š](https://www.strongdm.com/product/?utm_source=&utm_medium=email&utm_campaign=2019-04-24%20-%20%5BUSA%5D%20-%20%5BSchD%5D%20-%20%5BSDM%5D%20-%20%5BENT%5D%20-%20PGW)

`STRONGDM` **èµåŠ©å•†**

## [ä½¿ç”¨LibPostalè¿›è¡Œå¿«é€ŸåŒ¹é…å’Œè„åœ°å€åŒ¹é…](https://info.crunchydata.com/blog/quick-and-dirty-address-matching-with-libpostal)
[libpostal](https://github.com/openvenues/libpostal)æ˜¯ä¸€ä¸ªæœ‰è¶£çš„åº“ï¼Œç”¨äºè§£æå’Œè§„èŒƒåœ°å€ï¼Œæ‚¨å¯ä»¥åœ¨è‡ªå·±çš„Postgresæ•°æ®åº“ä¸­æ›´è½»æ¾åœ°æ¯”è¾ƒå’Œæœç´¢åœ°å€ã€‚

`PAUL RAMSEY`

## [Postgres 12å‘è¡Œè¯´æ˜è‰ç¨¿](https://www.postgresql.org/docs/devel/release-12.html)
Bruce Momijanå®£å¸ƒä»–å·²ç»å®Œæˆäº†Postgres 12å‘è¡Œè¯´æ˜çš„åˆç¨¿ï¼Œä»–ä»¬å°†æŒç»­æ›´æ–°ï¼Œç›´åˆ°ä»Šå¹´æ™šäº›æ—¶å€™çš„æœ€ç»ˆç‰ˆæœ¬ã€‚å®ƒæœ‰ç‚¹åƒè£…æ»¡æœªçŸ¥ç‰©å“çš„ç›’å­ï¼Œä½†[å…³äºPostgres 12ç‰¹æ€§çš„è¿™äº›PDFå¹»ç¯ç‰‡](http://www.sai.msu.su/~megera/postgres/talks/pg12-stachka-2019.pdf)éå¸¸çš„è¯¦ç»†ã€‚

`BRUCE MOMIJAN`

## [Postgres 12æ–°åŠŸèƒ½ï¼šå‡½æ•°ä¼˜åŒ–å™¨æ”¯æŒ](https://www.kdobson.net/2019/ultimate-postgresql-slug-function/)
â€œSupport functionsâ€Â ä½¿æŸ¥è¯¢ä¼˜åŒ–å™¨èƒ½æ´å¯Ÿå‡½æ•°ä¿¡æ¯ï¼Œè€Œåœ¨ä¹‹å‰æŸ¥è¯¢ä¼˜åŒ–å™¨å¯¹å‡½æ•°å†…éƒ¨ä¿¡æ¯ä¸€æ— æ‰€çŸ¥ã€‚

`KESTER DOBSON`

## [åˆ›å»ºpostgresçš„SlugåŠŸèƒ½](https://www.kdobson.net/2019/ultimate-postgresql-slug-function/)
Slugæ˜¯æŒ‡å­—ç¬¦ä¸²ä¼˜åŒ–æ˜¾ç¤ºç­–ç•¥ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨appä¸Šå®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªåŠŸèƒ½äº¤ç»™æ•°æ®åº“æ¥åšï¼Œæ­£å¦‚æœ¬æ–‡æ‰€è®²ã€‚

`KESTER DOBSON`

## [ä½¿ç”¨S3å°†æ•°æ®å¯¼å…¥Amazon RDSä¸Šçš„Postgres](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/PostgreSQL.Procedural.Importing.html#USER_PostgreSQL.S3Import)
å¦‚ä½•å°†å­˜å‚¨åœ¨Amazon S3 bucket ä¸­çš„æ•°æ®å¯¼å…¥Amazon RDSä¸Šæ‰˜ç®¡çš„Postgresè¡¨ä¸­ã€‚

`AMAZON WEB SERVICES, INC.`

## [ä½¿ç”¨Datadogç›‘æ§è‡ªå®šä¹‰PostgreSQLæŒ‡æ ‡](https://www.datadoghq.com/postgres-monitoring/?utm_source=Advertisement&utm_medium=CooperPress&utm_campaign=CooperPress-PostgresWeeklyS)
åŒæ—¶æŸ¥çœ‹æ•°æ®åº“ï¼Œå·¥å…·å’ŒæœåŠ¡çš„å®æ—¶æŒ‡æ ‡ã€‚å°è¯•ä½¿ç”¨Datadogè¿›è¡Œç›‘æ§ã€‚

`DATADOG ` **èµåŠ©å•†**

## [ä½¿ç”¨SQL Notebooks è¿›è¡ŒPostgresæ•°æ®åº“è¿è¡ŒçŠ¶å†µæ£€æŸ¥](https://azure.microsoft.com/en-us/blog/operationalizing-your-database-health-checks-using-sql-notebooks/)
äº†è§£Azure Data Studioï¼ˆæ˜¯çš„ï¼Œæˆ‘è®¤ä¸ºåªèƒ½åœ¨Azureä¸­ä½¿ç”¨ï¼‰ä¸­ç”¨äºåˆ›å»ºäº¤äº’å¼SQL æŸ¥è¯¢â€œç¬”è®°æœ¬â€æ¥ç›‘æ§Postgreså®‰è£…çš„æŠ€æœ¯ã€‚


`PARIKSHIT SAVJANI (MICROSOFT)`

## [ä½¿ç”¨ClickHouseæ•°æ®åº“æ”¹è¿›Postgresçš„OLAPå·¥ä½œè´Ÿè½½æ€§èƒ½](https://www.percona.com/blog/2019/05/09/improving-olap-workload-performance-for-postgresql-with-clickhouse-database/)
[ClickHouse](https://clickhouse.yandex/)æ˜¯ä¸€ä¸ªå¼€æºçš„column-oriented DBMSï¼Œä¸“æ³¨äºå¿«é€Ÿç”Ÿæˆåˆ†ææ•°æ®æŠ¥å‘Šã€‚

`IBRAR AHMED`

## [Postgraphileï¼šå¿«é€Ÿè·å–Postgresæ•°æ®åº“çš„GraphQL API](https://github.com/graphile/postgraphile)
[æœ€æ–°ç‰ˆæœ¬ï¼ˆ4.4.0ï¼‰](https://github.com/graphile/postgraphile/releases/tag/v4.4.0)å¼•å…¥äº†å¯¹è®¢é˜…å’Œå®æ—¶æŸ¥è¯¢çš„æ”¯æŒã€‚

`GRAPHILE`

# ![_config.yml]({{ site.baseurl }}/images/Tips-icon.png)   æœ¬å‘¨æç¤º
ç”±Microsoft Azureæä¾›æ”¯æŒ

Postgresæ‹¥æœ‰æ¯”ä½ æƒ³è±¡ä¸­æ›´å¤šçš„æ•°æ®ç±»å‹ï¼šäº†è§£IPåœ°å€å’Œç½‘ç»œ  
åœ¨åƒPostgresè¿™æ ·çš„æ•°æ®åº“ä¸­æ„å»ºæ•°æ®æ¨¡å‹æ—¶ï¼Œå¾ˆå®¹æ˜“åšæŒä½¿ç”¨åƒTEXTå’ŒINTEGERè¿™æ ·çš„ç»å…¸çš„æ•°æ®ç±»å‹ã€‚æ‚¨ç”šè‡³å¯èƒ½ä¼šåˆ†åˆ«ä½¿ç”¨[æ•°ç»„](https://www.postgresql.org/docs/9.1/arrays.html)ï¼Œ[hstore](https://www.postgresql.org/docs/9.1/hstore.html)æˆ–[JSON](https://www.postgresql.org/docs/10/datatype-json.html)æ¥ä½¿æ•°æ®æ›´å…·åŠ¨æ€æ€§ï¼Œä½†è¿˜æœ‰æ›´å¤šå€¼å¾—å‘ç°çš„ä¸œè¥¿ã€‚

æ·±å…¥ç ”ç©¶Postgresçš„æ‰€æœ‰æ•°æ®ç±»å‹å¯èƒ½ä¼šå¡«æ»¡ä¸€æœ¬ä¹¦ï¼Œå› æ­¤æˆ‘ä»¬ä»Šå¤©å…³æ³¨çš„æ˜¯ä¸€ä¸ªä¾‹å­ï¼šä½¿ç”¨INETè·å–IPåœ°å€ã€‚

INETç”¨äºå­˜å‚¨IPv4æˆ–IPv6åœ°å€ï¼Œè¿˜å¯ä»¥é€šè¿‡æŒ‡å®šç½‘ç»œæ©ç æ¥å­˜å‚¨networks å¦‚æœæ‚¨å°è¯•å­˜å‚¨çš„å†…å®¹ä¸æ˜¯æœ‰æ•ˆçš„IPåœ°å€æˆ–networksï¼ŒPostgresä¼šæŠ¥é”™ï¼Œå› æ­¤æ‚¨åŸºæœ¬ä¸Šå¯ä»¥è·å¾—æ•°æ®éªŒè¯ï¼š

```
CREATE TABLE addrs (address INET);
INSERT INTO addrs VALUES ('127.0.0.1');
INSERT INTO addrs VALUES ('hello world');
# ERROR: invalid input syntax for type inet: "hello world"

```

INETç±»å‹æ¯”æ•°æ®éªŒè¯æ›´è¿›ä¸€æ­¥ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥åœ¨SQLæŸ¥è¯¢ä¸­ä½¿ç”¨å„ç§æ–¹æ³•æ¥è¿›ä¸€æ­¥æŸ¥è¯¢IPå’Œç½‘ç»œåœ°å€ï¼š

```
INSERT INTO addrs VALUES ('202.121.0.0/16');
SELECT address, host(address), broadcast(address), netmask(address) FROM addrs;
```

æŸ¥è¯¢ç»“æœç‰ˆé¢æœ‰ç‚¹å¤ªå®½ï¼Œæ— æ³•é€‚åº”å‘¨æŠ¥æ ¼å¼ï¼Œå› æ­¤æ²¡æœ‰ä½“ç°ã€‚å¦‚æœæ‚¨ç†Ÿæ‚‰IPå¯»å€ï¼Œåˆ™ä¼šæŒ‰ç…§æ‚¨å¯¹å‡½æ•°åç§°çš„æœŸæœ›è¿”å›æœ‰å…³ç½‘ç»œçš„ç›¸å…³è¯¦ç»†ä¿¡æ¯ã€‚ å¯¹äºæ¯”è¾ƒIPåœ°å€ï¼Œæå–éƒ¨åˆ†åœ°å€å’Œå±è”½åœ°å€ï¼Œè¿˜æœ‰[å¾ˆå¤šå‡½æ•°](https://www.postgresql.org/docs/9.3/functions-net.html)ã€‚

>æœ¬å‘¨æç¤ºç”±Microsoft Azureæä¾›æ”¯æŒã€‚æƒ³è¦ä½¿ç”¨Postgresè€Œä¸å¿…æ‹…å¿ƒç®¡ç†ï¼Œä¿æŠ¤å’Œæ‰©å±•æ•°æ®åº“ï¼Ÿäº†è§£æœ‰å…³[Azureä¸Šçš„PostgreSQL](https://docs.microsoft.com/en-us/azure/postgresql/overview?ocid=orcas_pw_pgs)ä»¥åŠ[æœ‰å…³Hyperscaleçš„æœ€æ–°æ¶ˆæ¯](https://mybuild.techcommunity.microsoft.com/sessions/76988?source=sessions&ocid=orcas_pw_pgs)ã€‚

ğŸ—“  å³å°†ä¸¾åŠçš„Postgresæ´»åŠ¨  
 [PGCon 2019(5æœˆ28-31æ—¥,åŠ æ‹¿å¤§æ¸¥å¤ªå)](https://www.pgcon.org/2019/) â€”â€”ä¸€ä¸ªå¹´åº¦ä¼šè®®ï¼Œä¾›ç”¨æˆ·å’Œå¼€å‘äººå‘˜è§é¢å’Œè®¨è®ºPostgresã€‚  
 [PostgreSQL Ibiza(å…­æœˆ19-21æ—¥, ä¼Šç»´è¨)](https://www.pgibz.io/index.html) â€”â€” è¿™ä¸ªåœ¨è¥¿ç­ç‰™è‘—åçš„åº¦å‡å²›ä¸Šä¸¾è¡Œçš„ä¼šè®®å°†ä¼šå¸¦æ¥â€œæµ·æ»©ä¸Šçš„Postgresâ€ï¼ŒåŒæ—¶ä»ç„¶åœ¨ä¸€ä¸ªæ¼‚äº®æ•´æ´çš„åœºåœ°ä¸Šè¿›è¡Œä¼šè°ˆå’ŒåŸ¹è®­ã€‚  
 [Postgres Vision 2019(6æœˆ24æ—¥,æ³¢å£«é¡¿)](https://postgresvision.com/) 
 æœ€æ–°ï¼š[PostgresConf Beijing 2019(7æœˆ3-6æ—¥ï¼Œä¸­å›½åŒ—äº¬)](https://postgresconf.org/conferences/Beijing)
